<template>
  <div class="Login">
    <div>
        <div class="container-fluid">
            <header class="hh-page-title">
                <span>Invite</span>
            </header>
        <div class="row">
        <div class="col-md-4">
            <el-input placeholder="Please enter email id" v-model="input"></el-input>
        </div>  
        <div class="col-md-2" >
            <el-select v-model="value1" placeholder="Select Role">
            <el-option
            v-for="item in options"
            :key="item.value1"
            :label="item.label1"
            :value="item.value1">
            </el-option>
        </el-select>
        </div>
        <div class="col-md-6">
            <div class="col-md-4">
            <el-select v-model="value2" placeholder="Select subscription">
                <el-option
                v-for="item in options2"
                :key="item.value2"
                :label="item.label2"
                :value="item.value2">
                </el-option>
            </el-select>
            </div>
            <div class="col-md-2">
        <el-button type="primary" :loading="loading" @click="inviteNow()">Invite Now</el-button>
            </div>
        </div>
        </div>
        <Tabs  style="margin-top: 20px">
            <TabPane label="Own Subscription">
                <Table :columns="columns3" :data="data3" stripe></Table>
            </TabPane>
            <TabPane label="Assigned Subscription">
                <Table :columns="columns2" :data="data2" stripe></Table>
            </TabPane>
            <TabPane label="Assigned History">
                <Table :columns="columns4" :data="data4" stripe></Table>
            </TabPane>
        </Tabs>
    </div>
    </div>
    
    
  
  </div>
</template>
<script src="https://vuejs.org/js/vue.min.js"></script>
<script src="https://unpkg.com/iview/dist/iview.min.js"></script>
<script>
    import axios from 'axios'
    import Cookies from 'js-cookie';
    const config = require('../config');
    let subscriptionUrl = config.subscriptionApi
    import expandRow from './assigned_invite_table-expand.vue';
    import moment from 'moment';
    import _ from 'lodash'
    import Vue from 'vue';
    import iView from 'iview';
    import 'iview/dist/styles/iview.css';
    import locale from 'iview/dist/locale/en-US';
    Vue.use(iView, { locale });

    import psl from 'psl';
    import expandInviteRow from './own_assigns.vue';
    
   export default {
        components: { expandRow, expandInviteRow },
        data() {
            return {
                options: '',
                value1: '',
                options2: '',
                value2: '',
                roleOption1: '',
                roleValue1: '',
                input: '',
                loading :false,
                data2:[],
                data3: [],
                data4: [],
                assigned_Arr2 : [],
                assigned_Arr3 : [],
                assigned_Arr4 : [],
                columns2: [
                    {
                        type: 'expand',
                        width: 50,
                        render: (h, params) => {
                           //return 
                           return h(expandInviteRow, {
                               props: {
                                    row: params.row
                                }
                               //'Show role and model here'
                            })
                        }
                    },
                    {
                        title: 'Subscription Name',
                        key: 'name'
                    },
                    {
                        title: 'Subscription Id',
                        key: 'subscriptionId'
                    },
                    {
                        title : 'Assigned By' ,
                        key : 'invitedBy'
                    }
                ],
                 columns3: [
                     {
                        type: 'expand',
                        width: 50,
                        render: (h, params) => {
                            return h(expandRow, {
                                props: {
                                    row: params.row
                                }
                            })
                        }
                    },
                    {
                        title: 'Subscription Name',
                        key: 'name'
                    },
                    {
                        title: 'Subscription Id',
                        key: 'subscriptionId'
                    },
                    {
                        title: 'Role',
                        key: 'role',
                         render: (h, params) => {
                            return h('div', [
                                //console.log(params)
                                //let obj= Object.keys(params.row.role);
                                // console.log("Object.keys(params.row.role)",Object.keys(params.row.role))
                                // console.log(">>>>>>>>>>>>>>>>>>>>> " , params.row.role)
                                // h('strong',params)
                                h('p', this.capitalize(params.row.role))
                                //h('strong',this.capitalize(params.row.role[Object.keys(params.row.role)]))
                            ]);
                        }
                        
                    }
                ],
                columns4: [
                     
                    {
                        title: 'Subscription Name',
                        key: 'name'
                    },
                    {
                        title: 'Subscription Id',
                        key: 'subscriptionId'
                    },
                    {
                        title: 'Role',
                        key: 'role',
                        render: (h, params) => {
                            return h('div', [
                                //console.log(params)
                                //let obj= Object.keys(params.row.role);
                                h('strong', this.capitalize(params.row.role[Object.keys(params.row.role)]))
                            ]);
                        }
                        
                    },
                    {
                        title: 'Module',
                        key: 'role',
                        render: (h, params) => {
                            return h('div', [
                               // console.log(params)
                                h('p', this.capitalize(Object.keys(params.row.role)[0]))
                            ]);
                        }
                        
                    },
                    {
                        title: 'Assigned By',
                        key: 'fromEmail'
                        
                    },
                    {
                        title: 'Assigned Date',
                        key: 'assignDate',
                         render: (h, params) => {
                            
                                var date1 = moment(params.assignDate).format('DD-MMM-YYYY')
                                return h('div', [
                                    h('span', date1)
                                ]);
                            
                        }
                        
                    },
                    {
                        title: 'Un-Assigned Date',
                        key: 'unassignDate',
                         render: (h, params) => {
                            
                                var date1 = moment(params.unassignDate).format('DD-MMM-YYYY')
                                return h('div', [
                                    h('span', date1)
                                ]);
                            
                        }
                        
                    },
                    {
                        title: 'Assign Period',
                        key: '',
                        render: (h, params) => {
                                // console.log("params....", params)
                                // var date1 = moment(params.unassignDate).format('DD-MMM-YYYY')
                                // return date1
                                var now = moment(params.assignDate); 
                                var end = moment(params.unassignDate); 
                                var duration = moment.duration(now.diff(end));
                                var days = duration.asDays();
                                //console.log(days)
                                return days + ' Days';    
                        }
                        
                    }
                ]
            }
        },
        mounted() {
            
            this.getDataOfSubscriptionUser();
            this.getHistory();
            
        },
       
        methods: {
            capitalize (str) {
                str = str[0].toUpperCase() + str.slice(1)             
                return str;
            },
            async getHistory(){
                 axios.get(subscriptionUrl+'subscription-invitation', {

                   // axios.get('http://172.16.230.86:3030/subscription-invitation', {
                        headers: {
                            'Authorization': Cookies.get('auth_token')
                        },
                        params : {isDeleted : true, own : false},
                       
                    })
                    .then(response => {
                        console.log(response)
                        
                        // this.data2 = this.assigned_Arr2 ;
                         this.data4 = response.data.data;
                        // this.options2 = sub_id;
                        
                    })
                    .catch((err)=>{ console.log('Error:', err); })
            },
            async getDataOfSubscriptionUser() {
                this.$Loading.start();
                let sub_id = [];
                let Role_id = [];
                
               // axios.get('http://api.flowzcluster.tk/subscription/register-roles', {
                    
                    await axios.get(subscriptionUrl + 'register-roles', {
                        // headers: {
                        //     'Authorization': Cookies.get('auth_token')
                        // },
                        params : {module : 'webbuilder'}
                    })
                    .then(response => {
                        //console.log("res.................------>>>>", response)
                        let new_data = response.data.data;
                         //console.log(new_data.length)
                        for (let index = 0; index < new_data.length; index++) {
                            console.log("data.........", new_data[index].role)
                            
                            Role_id.push({
                                "value1": new_data[index].role,
                                "label1": new_data[index].role
                            })
                        }
                        //console.log("Role_id..........", Role_id)
                        
                        this.options = Role_id
                    })
                    .catch((err)=>{ console.log('Error:', err); })

                    axios.get(config.userDetail, {
                        headers: {
                            'Authorization': Cookies.get('auth_token')
                        }
                    })
                    .then(response => {
                        console.log("res.................------>>>>", response)
                        let new_data = response.data.data.package;
                        for (var key in new_data) {
                            if (new_data.hasOwnProperty(key)) {
                                
                                if (new_data[key].role == "admin") {
                                    sub_id.push({
                                        "value2": new_data[key].subscriptionId,
                                        "label2": new_data[key].name
                                    })
                                    this.assigned_Arr3.push(new_data[key])
                                }else{
                                    console.log( "new_data[key].subscriptionId " ,  new_data[key]);
                                    this.assigned_Arr2.push(new_data[key])
                                    
                                    console.log(this.assigned_Arr2) 
                                }
                                
                            }
                        }
                        console.log("sub_id..........", sub_id)
                                    console.log(this.assigned_Arr2) 
                        
                        this.data2 = this.assigned_Arr2 ;
                        this.data3 = this.assigned_Arr3;
                        this.options2 = sub_id;
                        
                        this.$Loading.finish();
                    })
                    .catch((err)=>{ console.log('Error:', err); })
            },
            async inviteNow() {
                
                if(this.value2 == undefined || this.value2 == '' || this.value1 == ''){
                    this.$message.warning("Please select both subscription & role for invitation");
                }else{
                    this.loading = true;
                    let new_data;
                let self = this;
                
                let obj =_.find(this.options2, {value2:this.value2});
               
                
                // console.log(this.input)
                // console.log(this.value1)
                // console.log(this.value2)
                let userId;
                let previous_packages;
                let params = {
                    "toEmail": this.input,
                    "subscriptionId": this.value2,
                    "name" : obj.label2,  
                    "role": {
                        "webbuilder": this.value1
                    },
                    "fromEmail" : Cookies.get('email')
                }

                await axios({
                        method: 'POST',
                          url: subscriptionUrl + 'invite',
                       // url: "http://172.16.230.86:3030/" + 'invite',
                        headers: {
                            "Authorization": Cookies.get('auth_token'),

                        },
                        data: params
                    })
                    .then(function(response) {
                        self.loading = false
                        console.log('response------------------------>', response)
                        if(response.data.status == 404 ){
                             //alert(response.data.data)
                            self.$message.warning(response.data.data);
                        }else if(response.data.code == '201'){
                            // self.$message.success(response.data.message);
                            self.$message.success("User assigned successfully");
                        }else if(response.data.code == '200'){
                            // self.$message.success(response.data.message);
                            self.$message.warning("User already assigned for this subscription with same role");
                        }
                    })
                    .catch(function(error) {
                        self.loading = false;
                        if(error.response.status == 401){
                            let location = psl.parse(window.location.hostname)
                            location = location.domain === null ? location.input : location.domain
                            
                            Cookies.remove('auth_token' ,{domain: location}) 
                            Cookies.remove('subscriptionId' ,{domain: location}) 
                            self.$store.commit('logout', self);
                            
                            self.$router.push({
                                name: 'login'
                            });
                        }else if(error.response.status == 403){
                            self.$Notice.error(
                                {duration:0, 
                                title: error.response.statusText,
                                desc:error.response.data.message+'. Please <a href="'+config.flowzDashboardUrl+'/subscription-list" target="_blank">Subscribe</a>'}
                                );
                        
                        }
                    })
                }
                

            }
        }
    }

</script>

<!-- Add "scoped" attribute to limit CSS to this component only -->
<style scoped>
    * {
        -webkit-box-sizing: border-box;
        box-sizing: border-box;
    }

    body {
        background: #f0f0f0;
        line-height: normal;
        font-size: 16px;
        overflow-Y: scroll;
        font-family: 'Roboto Condensed', "Helvetica Neue", Helvetica, Arial, sans-serif;
        -webkit-font-smoothing: antialiased !important;
    }

    a,
    a:hover,
    a:visited,
    a:link,
    a:active {
        text-decoration: none;
    }

    a:active {
        color: #fff !important;
    }

    .sm-img {
        height: 30px !important;
        width: 30px !important;
    }

    ::-moz-selection {
        background: #5af;
        color: #fff;
        text-shadow: none;
    }

    ::selection {
        background: #5af;
        color: #fff;
        text-shadow: none;
    }

    .hh-page-title {
        margin-bottom: 20px;
        text-shadow: 1px 4px 6px #c6c6c6, 0 0 0 #000, 1px 4px 6px #c6c6c6;
    }

    .hh-page-title span {
        font-size: 22px;
        font-weight: 500;
        display: block;
    }

    .hh-navigation {
        z-index: -1;
        position: fixed;
        left: 0;
        right: 0;
        top: 0;
        -webkit-box-shadow: 0 0px 9px 4px rgba(0, 0, 0, 0.1), 0 -5px 2px 2px rgba(0, 0, 0, 0.1);
        box-shadow: 0 0px 9px 4px rgba(0, 0, 0, 0.1), 0 -5px 2px 2px rgba(0, 0, 0, 0.1);
        background: white;
        text-align: center;
    }

    .hh-navigation ul {
        margin-bottom: 0;
    }

    .hh-logo-hidden {
        line-height: 75px;
        font-weight: 900;
        text-transform: uppercase;
        font-size: 22px;
        text-decoration: none;
        color: #222533;
        opacity: 0;
        visibility: hidden;
        position: absolute;
        left: 50%;
        -webkit-transition: all .2s ease-in-out;
        transition: all .2s ease-in-out;
    }

    .links {
        margin-right: 10px;
        position: relative;
    }

    .links>li {
        list-style: none;
        position: relative;
        margin: 10px;
        display: inline-block;
    }

    .hh-dropmenu-item.active {
        display: block;
        -webkit-animation: flipInX 1s ease;
    }

    .lg-text {
        font-size: 13px;
        font-weight: 600;
        color: #333;
    }

    .sm-text {
        font-size: 11px;
        color: #c6c6c6;
    }

    .md-text {
        font-size: 12px;
        color: #c6c6c6;
    }

    .hh-notification-item {
        width: 100%;
        padding: 15px;
        border-bottom: 1px solid #EEEEEE;
    }

    .hh-notification-item:hover {
        background: #F5F5F5;
    }

    .hh-notification-item .hh-notification-content {
        color: #404040;
    }

    .hh-notification-body {
        color: black;
        vertical-align: middle;
        margin-left: 30px;
    }

    .hh-logo-container {
        width: 225px;
        text-align: center;
        height: 50px;
        float: left;
        -webkit-transition: all .2s ease-in-out;
        transition: all .2s ease-in-out;
    }

    .hh-top-nav-container {
        float: right;
        -webkit-transition: all .2s ease-in-out;
        transition: all .2s ease-in-out;
    }

    .hh-toggle-btn,
    .hh-logo {
        text-decoration: none;
        position: relative;
        height: 50px;
        line-height: 50px;
        padding: 0 15px;
        font-size: 22px;
        font-weight: 900;
        text-transform: uppercase;
        text-decoration: none;
        color: #222533;
        display: inline-block;
    }

    .hh-logo img {
        padding-top: 2px;
        vertical-align: middle;
        margin-right: 10px;
        width: 120px;
    }

    .hh-toggle-btn:hover {
        background: #f9f9f9;
    }

    .hh-menu-item {
        position: relative;
        padding: 0 5px;
        line-height: 30px;
        height: 30px;
        color: #89949B;
        z-index: 5;
        display: inline-block;
    }

    .hh-badge {
        height: 20px;
        color: white;
        border-radius: 10px;
        line-height: 20px;
        font-size: 12px;
        background: #E94B3B;
        -webkit-box-shadow: 0.5px 0.2px 1px rgba(0, 0, 0, 0.5);
        box-shadow: 0.5px 0.2px 1px rgba(0, 0, 0, 0.5);
        display: inline-block;
        text-align: center;
    }

    .hh-menu-badge {
        position: absolute;
        min-width: 20px;
        min-height: 20px;
        line-height: 20px;
        font-weight: bold;
        color: white;
        border-radius: 100%;
        font-size: 12px;
        background: #E94B3B;
        -webkit-box-shadow: 0.5px 0.2px 1px rgba(0, 0, 0, 0.5);
        box-shadow: 0.5px 0.2px 1px rgba(0, 0, 0, 0.5);
        display: inline-block;
        text-align: center;
        top: -10px;
        z-index: 1;
    }

    .sm-menu {
        min-width: 150px !important;
    }

    .sm-menu>li {
        padding: 10px;
        text-align: left;
    }

    .sm-menu>li i {
        margin: 0 10px 0 0;
    }

    .sm-menu>li>a {
        padding: 10px;
    }

    .hh-dropmenu-item {
        position: absolute;
        right: -6px;
        top: 45px;
        min-width: 250px;
        background: white;
        border: 1px solid #BDBDBD;
        border-top: 5px solid #515d6e;
        border-radius: 2px;
        -webkit-box-shadow: 0 0 5px rgba(0, 0, 0, 0.15);
        box-shadow: 0 0 5px rgba(0, 0, 0, 0.15);
        display: none;
    }

    ul.hh-dropmenu-item {
        list-style: none;
        -webkit-padding-start: 0px;
    }

    .hh-dropmenu-item:before {
        content: "";
        position: absolute;
        border-width: 0 10px 10px 10px;
        border-style: solid;
        border-color: #515d6e transparent;
        top: -14px;
        right: 8px;
    }

    .hh-dropmenu-item.hh-settings {
        right: 0 !important;
        left: auto !important;
    }

    .hh-dropmenu-item.hh-settings:before {
        right: 5px !important;
        left: auto !important;
    }

    .hh-dropmenu-item.hh-settings>.hh-notification-item:hover {
        background: #fff !important;
    }

    .hh-dropmenu-item.hh-settings>.hh-notification-item i {
        font-size: 24px;
    }

    .hh-dropmenu-footer,
    .hh-dropmenu-header {
        display: block !important;
        background: #CFD8DC;
        text-transform: uppercase;
        font-size: 12px;
        margin: 0 !important;
        padding: 6px;
        text-align: center;
    }

    .hh-dropmenu-footer>a,
    .hh-dropmenu-header>a {
        color: white;
        line-height: 12px;
        text-decoration: none;
    }

    .hh-dropmenu-header {
        border-bottom: 1px solid #CFD8DC;
    }

    .hh-dropmenu-footer {
        border-top: 1px solid #CFD8DC;
    }

    .hh-chk-pin {
        margin: 0 !important;
    }

    .hh-chk-pin span {
        display: inline-block;
        position: relative;
        height: 20px;
        width: 40px;
        border-radius: 4px;
        background: #3680f4;
        border: 1px solid #f6f6f6;
    }

    .hh-chk-pin span:after {
        content: "";
        position: absolute;
        background: white;
        width: 20px;
        height: 20px;
        border-radius: 4px;
        top: -1px;
        left: 0px;
        -webkit-box-shadow: 0 0 0.5px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);
        box-shadow: 0 0 0.5px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);
        -webkit-transition: all .2s ease;
        transition: all .2s ease;
    }

    .hh-chk-pin input {
        display: none;
    }

    .hh-chk-pin input:checked+span {
        background: #23AE89;
    }

    .hh-chk-pin input:checked+span:after {
        left: 19px;
    }

    .hide {
        display: none;
    }

    .hh-option-selected {
        -webkit-box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2), 0 -2px 4px rgba(0, 0, 0, 0.2);
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2), 0 -2px 4px rgba(0, 0, 0, 0.2);
        -webkit-transform: scale(1.1);
        transform: scale(1.1);
        -webkit-transition: all .2s linear;
        transition: all .2s linear;
    }

    .hh-color-swatch {
        display: table;
        width: 90px;
        height: 25px;
        border-radius: 4px;
    }

    .hh-color-swatch .colors {
        width: 25px;
        height: 25px;
        display: table-cell;
        cursor: pointer;
    }

    .hh-color-swatch .colors input[type="radio"] {
        display: none;
    }

    .hh-color-swatch .colors:first-child {
        border-top-left-radius: 4px;
        border-bottom-left-radius: 4px;
    }

    .hh-color-swatch .colors:last-child {
        border-top-right-radius: 4px;
        border-bottom-right-radius: 4px;
    }

    .hh-sidebar {
        z-index: 9999;
        position: fixed;
        font-weight: 600;
        background: white !important;
        width: 225px;
        height: 100vh;
        top: 50px;
        left: 0;
        bottom: 0;
        -webkit-box-shadow: 0 0 4px rgba(0, 0, 0, 0.14), 2px 4px 8px rgba(0, 0, 0, 0.28);
        box-shadow: 0 0 4px rgba(0, 0, 0, 0.14), 2px 4px 8px rgba(0, 0, 0, 0.28);
        -webkit-transition: all .2s ease-in-out;
        transition: all .2s ease-in-out;
    }

    .hh-sidebar ul {
        list-style: none;
        -webkit-padding-start: 0px;
    }

    .hh-sidebar li {
        text-align: left;
        height: 45px;
        font-size: 14px;
        font-weight: 500;
        letter-spacing: .025em;
        line-height: 1.5;
    }

    .hh-sidebar li a {
        text-decoration: none;
        display: block;
        color: #515d6e;
    }

    .hh-sidebar li a i {
        position: relative;
        width: 45px;
        line-height: 45px;
        text-align: center;
    }

    .hh-sidebar li a i:before {
        z-index: 10;
        position: relative;
    }

    .hh-sidebar li a>span {
        display: inline-block;
        visibility: visible;
        opacity: 1;
        padding-left: 10px;
        -webkit-transition: all .2s ease-in-out .2s;
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
        text-transform: uppercase;
        font-size: 11px;
    }

    .hh-sidebar li:hover {
        background: #f2f2f2;
    }

    .hh-sidebar li:hover .icon-bg {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }

    .hh-sidebar li:hover a>i {
        color: white;
    }

    .icon-bg {
        position: absolute;
        left: 0;
        top: 0;
        bottom: 0;
        z-index: 1;
        width: 100%;
        -webkit-transform: translate3d(-43px, 0, 0);
        transform: translate3d(-43px, 0, 0);
        -webkit-transition: all .2s ease-in-out;
        transition: all .2s ease-in-out;
    }

    .hh-txt-primary {
        color: #1C7EBB;
    }

    .hh-bg-primary {
        background: #1C7EBB;
    }

    .hh-txt-success {
        color: #23AE89;
    }

    .hh-bg-success {
        background: #23AE89;
    }

    .hh-txt-danger {
        color: #E94B3B;
    }

    .hh-bg-danger {
        background: #E94B3B;
    }

    .hh-txt-warning {
        color: #F98E33;
    }

    .hh-bg-warning {
        background: #F98E33;
    }

    .hh-txt-violet {
        color: #6A55C2;
    }

    .hh-bg-violet {
        background: #6A55C2;
    }

    .hh-logo-container.hh-nav-min {
        -webkit-transform: translate3d(-180px, 0, 0);
        transform: translate3d(-180px, 0, 0);
    }

    .hh-logo-container.hh-nav-min .hh-logo {
        opacity: 0;
    }

    .hh-logo-container.hh-nav-min+.hh-logo-hidden {
        opacity: 1;
        visibility: visible;
    }

    .hh-sidebar.hh-nav-min {
        width: 45px !important;
    }

    .hh-sidebar.hh-nav-min .hh-sidebar-item {
        opacity: 0;
        visibility: hidden;
        -webkit-transition: all .1s linear;
        -webkit-transform: translate3d(-200px, 0, 0);
        transform: translate3d(-200px, 0, 0);
    }

    .hh-sidebar.hh-nav-min .icon-bg {
        -webkit-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
    }

    .hh-sidebar.hh-nav-min i {
        border: 0px;
        color: white;
        -webkit-transition: all .2s linear;
        transition: all .2s linear;
    }

    .hh-sidebar.hh-nav-min li:hover .icon-bg {
        -webkit-transform: scale(1.2, 1);
        transform: scale(1.2, 1);
    }

    .hh-body-wrapper {
        position: absolute;
        left: 230px;
        top: 75px;
        width: auto;
        right: 0;
        -webkit-transition: all .2s ease-in-out;
        transition: all .2s ease-in-out;
    }

    .hh-body-wrapper.hh-nav-min {
        left: 50px;
    }

    .hh-chart {
        height: 250px;
    }

    .hh-collapse {
        height: 0px;
        padding: 0;
        opacity: 0;
        overflow: hidden;
    }

    @-webkit-keyframes rotating {
        from {
            -webkit-transform: rotate(0deg);
        }

        to {
            -webkit-transform: rotate(360deg);
        }
    }

    @-webkit-keyframes flipInX {
        0% {
            -webkit-transform: perspective(400px) rotate3d(1, 0, 0, 90deg);
            -webkit-transition-timing-function: ease-in;
            opacity: 0;
        }

        40% {
            -webkit-transform: perspective(400px) rotate3d(1, 0, 0, -20deg);
            -webkit-transition-timing-function: ease-in;
        }

        60% {
            -webkit-transform: perspective(400px) rotate3d(1, 0, 0, 10deg);
            opacity: 1;
        }

        80% {
            -webkit-transform: perspective(400px) rotate3d(1, 0, 0, -5deg);
        }

        100% {
            -webkit-transform: perspective(400px);
        }
    }

    @media screen and (max-width: 450px) {
        .hh-info-box i {
            opacity: .3;
        }

        .flat-theme .hh-toggle-btn {
            right: 20px !important;
        }

        .flat-theme .hh-top-nav-container .links:last-child {
            display: none;
        }
    }

    @media screen and (min-width: 850px) {
        .hh-logo-container {
            height: 75px;
        }

        .hh-logo-container .hh-logo {
            line-height: 75px;
        }

        .hh-logo-container .hh-toggle-btn {
            line-height: 75px;
            height: auto;
        }

        .hh-top-nav-container {
            padding: 10px;
        }

        .hh-sidebar {
            top: 75px;
        }

        .hh-body-wrapper {
            top: 100px;
        }

        .flat-theme .hh-toggle-btn {
            top: 20px !important;
        }
    }

    @media screen and (max-width: 850px) {
        .flat-theme .hh-menu-badge {
            top: -3px;
        }

        .flat-theme .hh-toggle-btn {
            right: 20px !important;
        }

        .flat-theme .hh-body-wrapper {
            top: 125px !important;
        }

        .flat-theme .hh-sidebar {
            position: absolute;
        }

        .flat-theme .hh-navigation {
            position: absolute;
        }

        .flat-theme .hh-navigation .links>li:first-child {
            margin-left: 15px !important;
        }

        .flat-theme.sticky .hh-logo-container {
            z-index: 10000;
        }

        .flat-theme.sticky .hh-logo-container .hh-toggle-btn {
            color: #89949B !important;
            position: fixed;
            right: 120px !important;
            background: #f6f6f6;
            top: 11px;
        }

        .flat-theme.sticky .hh-logo-container .hh-toggle-btn:hover {
            background: #3680f4;
            color: #fff !important;
        }

        .flat-theme.sticky .hh-navigation {
            height: 50px;
        }

        .flat-theme.sticky .hh-sidebar {
            top: 50px;
            position: fixed;
        }

        .flat-theme.sticky .hh-top-nav-container {
            background: #FFF important;
            -webkit-box-shadow: 0 0px 9px 4px rgba(0, 0, 0, 0.1), 0 -5px 2px 2px rgba(0, 0, 0, 0.1);
            box-shadow: 0 0px 9px 4px rgba(0, 0, 0, 0.1), 0 -5px 2px 2px rgba(0, 0, 0, 0.1);
            position: fixed;
            left: 0;
            top: 0;
            width: 100%;
            z-index: 1000;
        }

        .flat-theme.sticky .links {
            margin-left: 50px;
        }

        .flat-theme.sticky .brand-icon {
            margin-left: 0px;
        }

        .flat-theme.sticky .brand-icon:hover {
            color: #fff;
        }

        .hh-navigation {
            height: 100px;
        }

        .hh-logo-container.hh-nav-min {
            -webkit-transform: translate3d(0, 0, 0);
            transform: translate3d(0, 0, 0);
            background: transparent;
        }

        .hh-logo-container.hh-nav-min .hh-logo {
            opacity: 1;
        }

        .hh-logo-container.hh-nav-min+.hh-logo-hidden {
            display: none;
        }

        .hh-logo-container {
            display: block;
            float: none;
            width: 100%;
            border-bottom: 1px solid #F2F2F2;
        }

        .hh-top-nav-container {
            display: block;
            float: none;
            height: 50px;
            background: white;
        }

        .hh-top-nav-container .links>li>a {
            font-size: 12px;
        }

        .hh-menu-badge {
            font-size: 10px;
            min-width: 15px;
            min-height: 15px;
            line-height: 15px;
        }

        .hh-sidebar {
            top: 100px;
        }

        .hh-sidebar.hh-nav-min {
            -webkit-transform: translate3d(-200px, 0, 0);
            transform: translate3d(-200px, 0, 0);
        }

        .hh-body-wrapper {
            top: 125px;
            position: relative;
        }

        .hh-body-wrapper.hh-nav-min {
            left: 0px;
        }
    }

    .panel {
        -webkit-box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);
        box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);
        border-radius: 0 !important;
        position: relative;
        -webkit-transition: all .2s linear;
    }

    .panel-close {
        -webkit-transform: scale3d(0, 0, 0);
        transform: scale3d(0, 0, 0);
    }

    .panel-body {
        position: relative;
        -webkit-transition: all .2s linear;
    }

    .panel-heading {
        background: white !important;
        border-radius: 0;
        padding: 15px;
        border-bottom: 0 !important;
    }

    .panel-heading .panel-title {
        text-transform: uppercase;
        font-weight: 600;
        font-size: 13px;
        color: #515d6e;
    }

    .overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        z-index: 1001;
        background: rgba(255, 255, 255, 0.75);
        text-align: center;
    }

    .overlay:before {
        content: "";
        height: 100%;
        vertical-align: middle;
        width: 1px;
        display: inline-block;
        margin-left: -5px;
    }

    .overlay .overlay-content {
        display: inline-block;
        vertical-align: middle;
    }

    .overlay i {
        display: block;
        position: inline-block;
        vertical-align: middle;
        color: black;
    }

    .hh-panel-action {
        list-style: none;
        display: inline-block;
        float: right;
    }

    .hh-panel-action li {
        display: inline-block;
        color: #515d6e;
        margin: 0 5px;
        cursor: pointer;
    }

    .hh-info-box {
        margin-bottom: 16px;
        -webkit-box-shadow: 1px 1px 2px 0 #CCCCCC;
        box-shadow: 1px 1px 2px 0 #CCCCCC;
        padding: 20px;
        -webkit-box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);
        box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);
        background: #eee !important;
    }

    .hh-info-box i {
        display: block;
        background-clip: padding-box;
        margin-right: 15px;
        height: 60px;
        width: 60px;
        border-radius: 100%;
        line-height: 60px;
        text-align: center;
        font-size: 4.4em;
        position: absolute;
    }

    .hh-info-box .value,
    .hh-info-box .heading {
        display: block;
        position: relative;
        color: #515d6e;
        text-align: right;
        z-index: 10;
    }

    .hh-info-box .heading {
        font-size: 1.2em;
        font-weight: 300;
        text-transform: uppercase;
    }

    .hh-info-box .value {
        font-size: 2.1em;
        font-weight: 600;
        margin-top: 5px;
    }

    .hh-list-group-item {
        margin: 5px 10px 25px 5px;
    }

    .hh-list-group-item:after {
        content: "";
        display: table;
    }

    .hh-chat {
        border: 1px solid rgba(198, 198, 198, 0.5);
        padding: 0 10px;
        border-radius: 2px;
        position: relative;
    }

    .hh-chat-body {
        position: relative;
    }

    .hh-list-group-item.left .hh-chat {
        margin-left: 50px;
    }

    .hh-list-group-item.left .hh-chat .sm-text {
        float: right;
    }

    .hh-list-group-item.left .hh-chat:after {
        content: "";
        border-top: 1px solid rgba(198, 198, 198, 0.5);
        border-left: 1px solid rgba(198, 198, 198, 0.5);
        height: 10px;
        width: 10px;
        background: white;
        position: absolute;
        left: -6px;
        top: 10px;
        -webkit-transform: rotate(-45deg);
        transform: rotate(-45deg);
    }

    .hh-chat-msg {
        font-size: 14px;
        color: #585f69;
    }

    .hh-list-group-item.right .hh-chat {
        margin-right: 50px;
    }

    .hh-list-group-item.right .hh-chat .lg-text {
        float: right;
    }

    .hh-list-group-item.right .hh-chat:after {
        content: "";
        border-top: 1px solid rgba(198, 198, 198, 0.5);
        border-right: 1px solid rgba(198, 198, 198, 0.5);
        height: 10px;
        width: 10px;
        background: white;
        position: absolute;
        right: -6px;
        top: 10px;
        -webkit-transform: rotate(45deg);
        transform: rotate(45deg);
    }

    .hh-list-icon {
        position: relative;
        height: 40px;
        width: 40px;
        border-radius: 100%;
        line-height: 40px;
        text-align: center;
        color: white;
        top: -5px;
    }

    .icon-shadow {
        -webkit-box-shadow: 0 0px 3px 1px rgba(0, 0, 0, 0.26);
        box-shadow: 0 0px 3px 1px rgba(0, 0, 0, 0.26);
    }

    .hh-list-img {
        border-radius: 100%;
        width: 32px;
        height: 32px;
    }

    .hh-list-group {
        position: relative;
    }

    .hh-list-group.group:before {
        content: "";
        position: absolute;
        background: rgba(198, 198, 198, 0.3);
        top: -20px;
        bottom: -20px;
        left: 25px;
        width: 1px;
    }

    .hh-list-content {
        line-height: 1.3;
        margin-left: 50px;
    }

    .hh-timeline {
        padding: 10px 0;
        position: relative;
    }

    .hh-timeline:before {
        content: "";
        position: absolute;
        border: 1px solid #c6c6c6;
        left: 50%;
        top: 0;
        height: 100%;
        bottom: 1px;
        -webkit-box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.2);
        box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.2);
    }

    .hh-timeline .hh-timeline-item {
        list-style: none;
        padding: 10px;
        position: relative;
        vertical-align: middle;
        margin-bottom: 20px;
        font-size: 14px;
    }

    .hh-timeline .hh-timeline-item .hh-timeline-badge {
        position: absolute;
        left: 50%;
        top: 0;
        margin-left: -15px;
        color: #FFF;
        width: 30px;
        height: 30px;
        font-size: 12px;
        border-radius: 100%;
        text-align: center;
        line-height: 25px;
        -webkit-box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.2);
        box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.2);
        cursor: pointer;
        -webkit-transition: all .2s easein-out;
        transition: all .2s easein-out;
        border: 2px solid #fff;
    }

    .hh-timeline .hh-timeline-item .hh-timeline-badge span {
        -webkit-transition: all 200ms linear;
        transition: all 200ms linear;
        -webkit-transform: scale(0);
        transform: scale(0);
        opacity: 0;
        position: absolute;
        color: #e6e6e6;
        background: Grey;
        min-width: 70px;
        border-radius: 3px;
    }

    .hh-timeline .hh-timeline-item .hh-timeline-badge span.pull-right {
        right: 35px;
    }

    .hh-timeline .hh-timeline-item .hh-timeline-badge span.pull-left {
        left: 35px;
    }

    .hh-timeline .hh-timeline-item .hh-timeline-badge:hover span {
        opacity: 1;
        -webkit-transform: scale(1);
        transform: scale(1);
    }

    .hh-timeline .hh-timeline-item .hh-timeline-panel {
        position: relative;
        width: 40%;
        background: #FFF;
        padding: 15px;
        top: -20px;
        margin-left: 10px;
        border-radius: 6px;
        border: 1px solid rgba(0, 0, 0, 0.2);
    }

    .hh-timeline .hh-timeline-item .hh-timeline-panel:after {
        content: "";
        width: 15px;
        height: 15px;
        background: #FFF;
        position: absolute;
        top: 30px;
        right: -8.5px;
        margin-top: -10px;
        -webkit-transform: rotate(135deg);
        transform: rotate(135deg);
        border-top: 1px solid rgba(0, 0, 0, 0.2);
        border-left: 1px solid rgba(0, 0, 0, 0.2);
    }

    .hh-timeline .hh-timeline-item:before {
        content: "";
        display: table;
    }

    .hh-timeline .hh-timeline-item:after {
        content: "";
        clear: both;
        display: block;
        overflow: hidden;
    }

    .hh-timeline .hh-timeline-item:first-child {
        margin-top: 20px;
    }

    .hh-timeline .hh-timeline-item .pull-right.hh-timeline-panel {
        background: #e6e6e6;
        margin-right: 10px;
    }

    .hh-timeline .hh-timeline-item .pull-right.hh-timeline-panel:after {
        content: "";
        left: -8.5px;
        -webkit-transform: rotate(-45deg);
        transform: rotate(-45deg);
        background: #e6e6e6;
    }

    .hh-timeline-footer p {
        display: inline-block;
        font-weight: 600;
        color: #515d6e;
    }

    .hh-timeline-footer p i {
        font-size: 24px;
        color: #3680f4;
    }

    .hh-chart .morris-hover {
        display: none !important;
    }

    .hh-chart:hover .morris-hover {
        display: block !important;
    }

    .fa-spin {
        -webkit-animation: fa-spin .5s infinite linear;
        animation: fa-spin .5s infinite linear;
    }

    .brand-icon {
        font-size: 22px;
        height: 50px;
        display: inline-block;
        float: left;
        width: 50px;
        background-color: #3680f4;
        text-align: center;
        line-height: 50px;
        color: white;
        font-weight: 700;
        -webkit-transition: all .2s linear;
        transition: all .2s linear;
        margin-left: -230px;
        display: none;
    }

    .flat-theme {
        background: #f1f2f7;
    }

    .flat-theme .brand-icon {
        display: inline-block;
    }

    .flat-theme .hh-logo {
        color: white;
    }

    .flat-theme .hh-navigation {
        text-align: left;
    }

    .flat-theme .hh-navigation .hh-top-nav-container {
        float: none !important;
    }

    .flat-theme .hh-navigation .hh-top-nav-container .links:last-child {
        float: none !important;
    }

    .flat-theme .hh-navigation .hh-top-nav-container .links:last-child>li>ul.hh-dropmenu-item {
        left: 0;
    }

    .flat-theme .hh-navigation .hh-top-nav-container .links:last-child>li>ul.hh-dropmenu-item:before {
        left: 8px;
        right: 100%;
    }

    .flat-theme .hh-navigation .hh-top-nav-container .links:last-child>li:first-child {
        margin-left: 30px;
    }

    .flat-theme .hh-navigation .hh-top-nav-container .links>li {
        text-align: center;
    }

    .flat-theme .hh-navigation .hh-top-nav-container .links>li>a {
        border-radius: 50%;
        width: 32px;
        height: 32px;
        background: #f6f6f6;
        display: inline-block;
        line-height: 32px;
        transition: 0.2s all linear;
    }

    .flat-theme .hh-navigation .hh-top-nav-container .links>li:hover>a {
        color: black !important;
        transition: 0.2s all linear;
    }

    .flat-theme .hh-dropmenu-item {
        border-color: #292929 !important;
    }

    .flat-theme .hh-dropmenu-item:before {
        border-color: #292929 transparent;
    }

    .flat-theme .hh-logo-container.hh-nav-min {
        -webkit-transform: none;
        transform: none;
    }

    .flat-theme .hh-logo-container.hh-nav-min .hh-logo {
        opacity: 1;
    }

    .flat-theme .hh-logo-container.hh-nav-min+.hh-logo-hidden {
        opacity: 0;
    }

    .flat-theme .hh-logo-container {
        background: #292929;
        position: relative;
        z-index: 1000;
    }

    .flat-theme .hh-logo-container .hh-toggle-btn {
        color: #fff !important;
        font-size: 14px;
        width: 30px;
        height: 30px;
        display: inline-block;
        position: absolute;
        line-height: 30px;
        text-align: center;
        padding: 0;
        border-radius: 50%;
        right: -15px;
        background: #2c6bc9;
        top: 7.5px;
        -webkit-transition: all .2s linear;
        transition: all .2s linear;
    }

    .flat-theme .hh-sidebar {
        background: #32323a !important;
    }

    .flat-theme .hh-sidebar li {
        border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    }

    .flat-theme .hh-sidebar li:hover {
        background: #28282a !important;
    }

    .flat-theme .hh-sidebar li:hover span {
        color: #3680F4;
    }

    .flat-theme .hh-sidebar li a i {
        color: white;
    }

    .flat-theme .hh-sidebar li a>span {
        color: #aeb2b7 !important;
        -webkit-transition: none;
    }

    .flat-theme .hh-info-box {
        -webkit-box-shadow: none !important;
        box-shadow: none !important;
        border-radius: 4px;
    }

    .flat-theme .panel {
        -webkit-box-shadow: none !important;
        box-shadow: none !important;
        border-radius: 4px !important;
        border: none !important;
    }

    .flat-theme .panel .panel-heading {
        background: #fafafa !important;
        border-top-left-radius: 4px;
        border-top-right-radius: 4px;
    }

    .flat-theme .panel .panel-body {
        border-bottom-left-radius: 4px;
        border-bottom-right-radius: 4px;
    }

    .flat-theme .panel-default {
        border-color: none;
    }

    .hh-bg-crimson {
        background: #3680F4;
    }

    .flat-theme.crimson .hh-logo-container {
        background: #3680F4 !important;
    }

    .flat-theme.crimson .hh-toggle-btn {
        background: #ad102f !important;
    }

    .flat-theme.crimson .hh-dropmenu-footer,
    .flat-theme.crimson .hh-dropmenu-header {
        background: #ad102f !important;
    }

    .flat-theme.crimson .links>li:not(.no-color):hover>a {
        background: #eb1f48 !important;
    }

    .flat-theme.crimson .hh-dropmenu-item {
        border-color: #ad102f !important;
    }

    .flat-theme.crimson .hh-dropmenu-item:before {
        border-color: #ad102f transparent;
    }

    .flat-theme.crimson .hh-sidebar li:hover a>span {
        color: #3680f4 !important;
    }

    @media screen and (max-width: 850px) {
        .flat-theme.crimson.sticky .hh-toggle-btn {
            background: #fafafa !important;
            color: #89949B !important;
        }
    }

    .flat-theme.crimson.sticky .brand-icon,
    .flat-theme.crimson.sticky .hh-toggle-btn:hover {
        background: #3680f4 !important;
        color: #fff !important;
    }

    .hh-bg-teal {
        background: #1fb5ad;
    }

    .flat-theme.teal .hh-logo-container {
        background: #1fb5ad !important;
    }

    .flat-theme.teal .hh-toggle-btn {
        background: #188983 !important;
    }

    .flat-theme.teal .hh-dropmenu-footer,
    .flat-theme.teal .hh-dropmenu-header {
        background: #188983 !important;
    }

    .flat-theme.teal .links>li:not(.no-color):hover>a {
        background: #23cbc2 !important;
    }

    .flat-theme.teal .hh-dropmenu-item {
        border-color: #188983 !important;
    }

    .flat-theme.teal .hh-dropmenu-item:before {
        border-color: #188983 transparent;
    }

    .flat-theme.teal .hh-sidebar li:hover a>span {
        color: #1fb5ad !important;
    }

    @media screen and (max-width: 850px) {
        .flat-theme.teal.sticky .hh-toggle-btn {
            background: #fafafa !important;
            color: #89949B !important;
        }
    }

    .flat-theme.teal.sticky .brand-icon,
    .flat-theme.teal.sticky .hh-toggle-btn:hover {
        background: #1fb5ad !important;
        color: #fff !important;
    }

    .hh-bg-orange {
        background: #ff503f;
    }

    .flat-theme.orange .hh-logo-container {
        background: #ff503f !important;
    }

    .flat-theme.orange .hh-toggle-btn {
        background: #ff220c !important;
    }

    .flat-theme.orange .hh-dropmenu-footer,
    .flat-theme.orange .hh-dropmenu-header {
        background: #ff220c !important;
    }

    .flat-theme.orange .links>li:not(.no-color):hover>a {
        background: #ff6759 !important;
    }

    .flat-theme.orange .hh-dropmenu-item {
        border-color: #ff220c !important;
    }

    .flat-theme.orange .hh-dropmenu-item:before {
        border-color: #ff220c transparent;
    }

    .flat-theme.orange .hh-sidebar li:hover a>span {
        color: #ff503f !important;
    }

    @media screen and (max-width: 850px) {
        .flat-theme.orange.sticky .hh-toggle-btn {
            background: #fafafa !important;
            color: #89949B !important;
        }
    }

    .flat-theme.orange.sticky .brand-icon,
    .flat-theme.orange.sticky .hh-toggle-btn:hover {
        background: #ff503f !important;
        color: #fff !important;
    }

    .hh-bg-purple {
        background: rebeccapurple;
    }

    .flat-theme.purple .hh-logo-container {
        background: rebeccapurple !important;
    }

    .flat-theme.purple .hh-toggle-btn {
        background: #4d2673 !important;
    }

    .flat-theme.purple .hh-dropmenu-footer,
    .flat-theme.purple .hh-dropmenu-header {
        background: #4d2673 !important;
    }

    .flat-theme.purple .links>li:not(.no-color):hover>a {
        background: #7339ac !important;
    }

    .flat-theme.purple .hh-dropmenu-item {
        border-color: #4d2673 !important;
    }

    .flat-theme.purple .hh-dropmenu-item:before {
        border-color: #4d2673 transparent;
    }

    .flat-theme.purple .hh-sidebar li:hover a>span {
        color: rebeccapurple !important;
    }

    @media screen and (max-width: 850px) {
        .flat-theme.purple.sticky .hh-toggle-btn {
            background: #fafafa !important;
            color: #89949B !important;
        }
    }

    .flat-theme.purple.sticky .brand-icon,
    .flat-theme.purple.sticky .hh-toggle-btn:hover {
        background: rebeccapurple !important;
        color: #fff !important;
    }

    .hh-bg-twitter {
        background: #55acee;
    }

    .flat-theme.twitter .hh-logo-container {
        background: #55acee !important;
    }

    .flat-theme.twitter .hh-toggle-btn {
        background: #2795e9 !important;
    }

    .flat-theme.twitter .hh-dropmenu-footer,
    .flat-theme.twitter .hh-dropmenu-header {
        background: #2795e9 !important;
    }

    .flat-theme.twitter .links>li:not(.no-color):hover>a {
        background: #6cb7f0 !important;
    }

    .flat-theme.twitter .hh-dropmenu-item {
        border-color: #2795e9 !important;
    }

    .flat-theme.twitter .hh-dropmenu-item:before {
        border-color: #2795e9 transparent;
    }

    .flat-theme.twitter .hh-sidebar li:hover a>span {
        color: #55acee !important;
    }

    @media screen and (max-width: 850px) {
        .flat-theme.twitter.sticky .hh-toggle-btn {
            background: #fafafa !important;
            color: #89949B !important;
        }
    }

    .flat-theme.twitter.sticky .brand-icon,
    .flat-theme.twitter.sticky .hh-toggle-btn:hover {
        background: #55acee !important;
        color: #fff !important;
    }
    .flat-theme .hh-navigation[data-v-c2fe13ce] {
        text-align: left;
        z-index: -1;
    }
</style>
